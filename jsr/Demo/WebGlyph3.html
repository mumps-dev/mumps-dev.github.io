<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>WebGlyph</title>
<style type="text/css">body {font-family: Arial;}
p {font-size: 10pt;}
ol {font-size: 10pt;}
ul {font-size: 10pt;}
li {font-size: 10pt;}
td {font-size: 10pt;}
.tab {
      text-align: center;
      font-weight: normal;
      border-radius: 8px 8px 0px 0px;
      padding-right: 10px;
      padding-left: 10px;
      border: 1px solid purple;
      color: purple;
      background-color: white;     }
</style>
<link type="text/css" rel="stylesheet" href="../jquery/jquery_ui_1_9_0.css"/>
<script type="text/javascript" src="../jquery/jquery_1_8_2.js"></script>
<script type="text/javascript" src="../jquery/jquery_ui_1_9_0.js"></script>
</head>

<body bgcolor="white" text="purple" link="#004080" vlink="#004080">
<form action="WebGlyph3.html" name="form" method="post" enctype="multipart/form-data">
<input type="hidden" name="DownLoadGlyph" value=""/>
<input type="hidden" name="DownLoadSVG" value=""/>
<input type="hidden" name="FullName" value=""/>
<input type="hidden" name="LastKeyUp" value="0"/>
<input type="hidden" name="Notes" value=""/>
<input type="hidden" name="Page" value=""/>
<input type="hidden" name="SettingBaseLine" value="0"/>
<input type="hidden" name="SettingBlack" value="black"/>
<input type="hidden" name="SettingColumns" value="0"/>
<input type="hidden" name="SettingComment" value="0"/>
<input type="hidden" name="SettingDrawColumnLines" value="0"/>
<input type="hidden" name="SettingFillOut" value="0"/>
<input type="hidden" name="SettingFontItalic" value="Ariel"/>
<input type="hidden" name="SettingFontRegular" value=""/>
<input type="hidden" name="SettingHieratic" value="0"/>
<input type="hidden" name="SettingKerning" value="0"/>
<input type="hidden" name="SettingLineSpacing" value="25"/>
<input type="hidden" name="SettingPenColor" value="1"/>
<input type="hidden" name="SettingRed" value="red"/>
<input type="hidden" name="SettingRightToLeft" value="0"/>
<input type="hidden" name="SettingScaling" value="2"/>
<input type="hidden" name="SettingShowHTML" value="0"/>
<input type="hidden" name="SettingShowPlus" value="0"/>
<input type="hidden" name="SettingStrokeWidth" value="1"/>
<input type="hidden" name="SettingStyle" value="Gardiner"/>
<input type="hidden" name="SettingSynch" value="0"/>
<input type="hidden" name="ShowDemoText" value=""/>
<input type="hidden" name="Status" value=""/>
<input type="hidden" name="SubPage" value=""/>
<input type="hidden" name="Token" value=""/>
<input type="hidden" name="UpLoadFileName" value=""/>
<input type="hidden" name="UserNameCopy" value=""/>
<table width="100%">
  <tr>
    <td width="5%" align="center">
      <a href="mailto:demoel@jacquardsystems.com?Subject=WebGlyph3">
        <img alt="WebGlyph Logo" title="Man typing a feed-back message" src="../image/WebGlyph/WebGlyph_Logo_Left_purple.svg">
      </a>
    </td>
    <td width="90%" align="center" style="margin: 0; color: purple; font-size: 30px; font-weight: bold;">WebGlyph 2023.3<br/>
    <span id="FullNameSpan">&nbsp;</span><span id="StatusSpan"><font color="red"><b>&nbsp;</b></font></span></td>
    <td width="5%" align="center" onclick="Logout();">
      <img alt="WebGlyph Logo" title="Man logging out of WebGlyph" src="../image/WebGlyph/WebGlyph_Logout_purple.svg">
    </td>
  </tr>
</table>
<div id="LoginPage" style="display: block;">
  <table>
    <tr>
      <td align="right">
        User Name &nbsp;
      </td>
      <td>
        <input type="text" name="UserName" placeholder="Username" autofocus="autofocus"/>
      </td>
    </tr>
    <tr>
      <td align="right">
        Password &nbsp;
      </td>
      <td>
        <input type="password" name="Password" placeholder="Password"/>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <button type="button" onclick="SetUserName(false);">Login</button>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
        <button type="button" onclick="SetUserName(true);">Login as Guest</button>
      </td>
    </tr>
  </table>
<h3 style="color: red;"><span id="LoginStatus">&nbsp;</span></h3>
</div>
<div id="TabBar" style="display: none";>
  <table cellPadding="0" cellSpacing="0">
    <tr>
      <td class="tab" id="Tab_Glyph"           onclick="Switch('Glyph','')">Glyph</td>
      <td class="tab" id="Tab_Documentation"   onclick="Switch('Documentation','Intro')">Documentation</td>
      <td class="tab" id="Tab_DemoPages"       onclick="Switch('DemoPages','')">Demo Pages</td>
      <td class="tab" id="Tab_SignList"        onclick="Switch('Documentation','SignList')">Sign Lists</td>
      <td class="tab" id="Tab_Pharaohs"        onclick="Switch('Pharaohs','English')">Pharaohs</td>
      <td class="tab" id="Tab_Explore"         onclick="Switch('Explore','')">Explore Libraries</td>
      <td class="tab" id="Tab_Transliteration" onclick="Switch('Transliteration','')">Transliteration</td>
      <td class="tab" id="Tab_GroupEditor"     onclick="Switch('GroupEditor','')">Group Editor</td>
      <td class="tab" id="Tab_Digitizer"       onclick="Switch('Digitizer','')">Digitizer</td>
      <td class="tab" id="Tab_Catalog"         onclick="Switch('Catalog','')">Catalog</td>
      <td class="tab" id="Tab_Password"        onclick="Switch('Password','')">Password</td>
      <td class="tab" id="Tab_Preferences"     onclick="Switch('Preferences','')">Preferences</td>
      <td class="tab" id="Tab_Admin"           onclick="Switch('Admin','')">Administration</td>
    </tr>
  </table>
</div>
<div id="TabGlyph" style="display: none;">
  <table>
    <tr>
      <td>
        <input
          type="radio"
          name="RightToLeft"
          checked="checked"
          onclick="RemoveCommand('dir', '', ''); RemoveCommand('right', '', ''); RemoveJSesh('page_direction ');"
          value="0"
        />
        <span title="Check this box when text is to be rendered from left-to-right">Draw Hieroglyphs Left-to-Right</span><br/>
        <input
          type="radio"
          name="RightToLeft"
          onclick="RemoveCommand('dir', '', ''); RemoveCommand('right', '', ''); RemoveJSesh('page_direction ');"
          value="1"
        />
        <span title="Check this box when text is to be rendered from right-to-left">Draw Hieroglyphs Right-to-Left</span>
      </td>
      <td>
        <input
          type="radio"
          name="BaseLine"
          checked="checked"
          onclick="RemoveCommand('base', '', ''); RemoveJSesh('small_sign_centered ');"
          value="0"
        />
        <span title="Check this box when text is to be centered vertically in each line">Center Glyphs Vertically</span><br/>
        <input
          type="radio"
          name="BaseLine"
          onclick="RemoveCommand('base', '', ''); RemoveJSesh('small_sign_centered ');"
          value="1"
        />
        <span title="Check this box when text is to be rendered at the base of each line">Drop All Glyphs on Baseline</span>
      </td>
      <td valign="top" rowspan="3">
        <input type="button"
                onclick="PersonalSettings();"
                value="Revert to preferred settings"/><br/>
        <input type="button"
                onclick="DefaultSettings(true);"
                value="Revert to default settings"/><br/>
        <input type="button"
               title="This button may be used to create a cartouche with the name of a person.&#13;Enter the name in the text-box, and then click on this button.&#13;The text in the text-box will be replaced by codes for the cartouche.&#13;If necessary, the codes for the cartouche can be edited.&#13;The button labeled &ldquo;Create Hieroglyphs&rdquo; can then be used to render the cartouche."                name="cartouche"
               onclick="CreateCartouche();"
               value="Create Cartouches"/>
      </td>
    </tr>
    <tr>
      <td valign="middle">
        <input
          type="radio"
          name="Columns"
          checked="checked"
          onclick="RemoveCommand('col', '', 'lin'); RemoveJSesh('page_orientation ');"
          value="0"
        />
        <span title="Check this box when text is to be rendered in lines">Draw Hieroglyphs in Lines</span><br/>
        <input
          type="radio"
          name="Columns"
          onclick="RemoveCommand('col', '', 'lin'); RemoveJSesh('page_orientation ');"
          value="1"
        />
        <span title="Check this box when text is to be rendered in columns">Draw Hieroglyphs in Columns</span>
      </td>
      <td rowspan="2">
        <table>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the amount of (additional) interline space; normal value is 25%."><b>Inter-line space</b></span>
            </td>
            <td valign="top">
              <input
                type="text"
                name="LineSpacing"
                onchange="RemoveCommand('inter', '', '');"
                size="5"
                value="25"
                style="text-align: right;"
              />&nbsp;<b>%</b>
            </td>
          </tr>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the scale for the hieroglyphs; normal value is 2 centimeters"><b>Scale</b></span>
            </td>
            <td valign="top">
              <input
                type="text"
                name="Scaling"
                value="2"
                onchange="RemoveCommand('scal', '', ''); RemoveJSesh('max_quadrantheight ');  RemoveJSesh('standard_sign_height ');  RemoveJSesh('max_quadrant_width ');"
                size="5"
                style="text-align: right;"
              />&nbsp;<b>cm</b>
            </td>
          </tr>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the stroke-width (thickness of lines); normal value is 1"><b>Stroke Width</b></span>
            </td>
            <td valign="top">
              <input
                type="text"
                name="StrokeWidth"
                value="1"
                onchange="RemoveCommand('stroke', '', '');"
                size="5"
                style="text-align: right;"
              />
            </td>
          </tr>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the amount of (additional) space between blocks; normal value is 0%; maximum value is 10%"><b>Extra space between blocks</b></span>
            </td>
            <td valign="top">
              <input
              type="text"
              name="Kerning"
              value="0"
              onchange="RemoveCommand('kern', '', '');"
              size="5"
              style="text-align: right;"
            />
            </td>
          </tr>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the color for black rendition; normal value is black or #000000"><b>Black Rendition</b></span>
            </td>
            <td valign="top">
              <input
                type="text"
                name="Black"
                id="Black"
                value="black"
                size="7"
                onchange="ChangeBlack();  RemoveCommand('black', '', '');"/>&nbsp;&nbsp;
            </td>
            <td id="BlackSample" bgcolor="black">&nbsp;&nbsp;&nbsp;&nbsp;
            </td>
          </tr>
          <tr>
            <td valign="top" align="right">
              <span title="Enter the color for red rendition; normal value is red or #FF0000"><b>Red Rendition</b></span>
            </td>
            <td valign="top">
              <input
                type="text"
                name="Red"
                value="red"
                id="Red"
                size="7"
                onchange="ChangeRed();  RemoveCommand('red', '', '');"/>&nbsp;&nbsp;
            </td>
            <td id="RedSample" bgcolor="red">&nbsp;&nbsp;&nbsp;&nbsp;</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td>
        <input
          type="checkbox"
          name="Hieratic"
          onclick="RemoveCommand('hier', '', '');"
        />
        <span title="Check this box when the original text is hieratic">Original is Hieratic</span><br/>
        <input
          type="checkbox"
          name="DrawColumnLines"
          checked="checked"
          onclick="RemoveCommand('col', 'lin', '');"
        />
        <span title="Check this box when the rendition is in columns, and lines are to be drawn to separate the columns">Draw Lines Between Columns</span><br/>
        <input
          type="checkbox"
          name="FillOut"
          onclick="RemoveCommand('fill', '', ''); RemoveCommand('just', '', '');"
        />
        <span title="Check this box if extra space is to be added to block-justify the text">Block-Justify Lines</span>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        Style:&nbsp;
        <input
          type="radio"
          name="Style"
          value="Gardiner"
          checked="checked"
          onclick="RemoveCommand('style', '', '');"
        />&nbsp;Gardiner (Middle-Egyptian)&nbsp;&nbsp;&nbsp;
        <input
          type="radio"
          name="Style"
          value="GrecoRoman"
          onclick="RemoveCommand('style', '', '');"
        />&nbsp;Greco-Roman
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Text:
      </td>
    </tr>
    <tr>
      <td colspan="2" valign="top">
        <textarea cols="80"
                  rows="5"
                  name="Text"
                  onkeyup="DoGraphText(event); NoNotes();"></textarea><br/>
        <span id="GraphText" style="font-size: 10px;"></span>
        <input  type="file"
                name="UploadText"
                onclick="this.value=''"
                onchange="FileChange(event)"
                placeholder="Upload file"
                accept=".txt,.gly,.glyph"/>
        <span id="SelectedFile">&nbsp;</span>
      </td>
      <td valign="top">
        <input  type="button"
                name="go"
                onclick="CreateHieroglyphs();"
                value="Create Hieroglyphs"/><br/>
        <span id="DownLoad" style="display: none;">
          <input type="button" onclick="DownLoad('svg');" value="Download Image File"/><br/>
          <input type="button" onclick="DownLoad('glyph');" value="Download Updated Input File"/>
        </span>
      </td>
    </tr>
  </table>
  <p>
    <img id="Gears" alt="Please Wait..." src="../image/WebGlyph/PleaseWait.gif" style="display: none;"/>
    <img id="HieroglyphsGraph" alt="Hieroglyphs" src="../image/WebGlyph/PleaseWait.gif" style="display: none"/></p>
    <span id="Hieroglyphs">&nbsp;</span>
  </p>
  <div id="ShowNotes_1" style="display: none;">
    <p><input type="button" value="Show Notes" onclick="NotesShow(1);"/></p>
  </div>
  <div id="ShowNotes_2" style="display: none;">
    <p><input type="button" value="Hide Notes" onclick="NotesShow(2);"/></p>
    <div id="ShowNotes_3">&nbsp;</div>
  </div>
  <p id="Log" style="color: red">&nbsp;</p>
</div>
<div id="TabDocumentation" style="display: none">
  <table>
    <tr>
      <td valign="top" style="width: 160px;">
        <div style="top: 120px; position: sticky;">
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Intro');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Introduction</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'History');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >History</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Code');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >Coding Hieroglyphs</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'CodeSp');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Special Codes</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'ArgGrp');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Arrangement in Groups</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'CodeAdd');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >Additional Codes</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'FlipTurn');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Flipping and Turning</span></p>
          <p style="margin: 4px 0;">Signs Within Signs<br/>
          <span onclick="Switch('Documentation', 'BuiltIn');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >&#8226; Built-in Combinations</span><br/>
          <span onclick="Switch('Documentation', 'Within');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >&#8226; More Sophisticated</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Hatching');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >Hatching(s)</span></p>
          <p style="margin: 4px 0;">Parameters<br/>
          <span onclick="Switch('Documentation', 'Parameters1');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >&#8226; Available Parameters</span><br/>
          <span onclick="Switch('Documentation', 'Parameters2');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >&#8226; Effect of Parameters</span><br/>
          <span onclick="Switch('Documentation', 'Parameters3');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >&#8226; Personal Settings</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Color');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >The color of Hieroglyphs</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Cartouche');"
          onmouseover="this.style.cursor='pointer';"
          onmouseout="this.style.cursor='auto';"
          style="color: blue;"
          >Cartouches</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'OtherSets');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Other Character Sets</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'WinGlyph');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Differences between WebGlyph, WinGlyph and JSesh</span></p>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'SignList');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Sign Lists</span></p>
          <a href="mailto:demoel@jacquardsystems.com?Subject=WebGlyph%20Angular">Feed-back</a><br/>
          <p style="margin: 4px 0;"><span onclick="Switch('Documentation', 'Embedded');"
                onmouseover="this.style.cursor='pointer';"
                onmouseout="this.style.cursor='auto';"
                style="color: blue;"
          >Embedded usage</span></p>
        </div>
      </td>
      <td valign="top">
        <div id="Doc_SubPage">&nbsp;</div>
      </td>
    </tr>
  </table>
</div>
<div id="TabDemoPages" style="display: none;">
  <h3>Demonstration texts</h3>
  <ul>
    <li><span onclick="ShowFile(' Demo01');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Basic encoding</span></li>
    <li><span onclick="ShowFile(' Demo02');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Cartouches</span></li>
    <li><span onclick="ShowFile(' Demo03');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Hatching</span></li>
    <li><span onclick="ShowFile(' Demo04');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Additional codes</span></li>
    <li><span onclick="ShowFile(' Demo05');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Grammatical codes</span></li>
    <li><span onclick="ShowFile(' Demo06');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Other charactersets</span></li>
    <li><span onclick="ShowFile(' Demo07');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Rotation and Inversion</span></li>
    <li><span onclick="ShowFile(' Demo08');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Hymne &agrave; la crue du Nil</span></li>
    <li><span onclick="ShowFile(' Demo09');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The admonitions of an Egyptian Sage, Leiden papyrus I344, Page 8</span></li>
    <li><span onclick="ShowFile(' Demo10');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The hieroglyphic alphabet</span></li>
    <li><span onclick="ShowFile(' Demo11');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Live long and prosper</span></li>
    <li><span onclick="ShowFile(' Demo12');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >If you are brave</span></li>
    <li><span onclick="ToggleShowFile('DemoFile_13');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Sample Cartouches</span>
      <span id="DemoFile_13" style="display: none;"><ul>
        <li><span onclick="ShowFile(' Demo13_Cleopatra');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Cleopatra</span></li>
        <li><span onclick="ShowFile(' Demo13_KingTut');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >KingTut</span></li>
      </ul></span>
    </li>  </ul>

  <h3>Sample documents</h3>
  <ul>
    <li><span onclick="ToggleShowFile('DemoFile_14');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The admonitions of an Egyptian Sage, Leiden papyrus I344</span>
      <span id="DemoFile_14" style="display: none;"><ul>
        <li><span onclick="ShowFile('Admonitions_Page  1');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  1</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  2');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  2</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  3');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  3</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  4');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  4</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  5');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  5</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  6');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  6</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  7');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  7</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  8');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  8</span></li>
        <li><span onclick="ShowFile('Admonitions_Page  9');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  9</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 10');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 10</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 11');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 11</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 12');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 12</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 13');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 13</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 14');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 14</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 15');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 15</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 16');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 16</span></li>
        <li><span onclick="ShowFile('Admonitions_Page 17');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 17</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_15');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >British Museum Papyrus 5645</span>
      <span id="DemoFile_15" style="display: none;"><ul>
        <li><span onclick="ShowFile('BM5645_Recto');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Recto</span></li>
        <li><span onclick="ShowFile('BM5645_Verso');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Verso</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_16');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The Biography of Chnumhotep, Prince of Beni Hassan</span>
      <span id="DemoFile_16" style="display: none;"><ul>
        <li><span onclick="ShowFile('Chnumhotep_   1 to  28');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >   1 to  28</span></li>
        <li><span onclick="ShowFile('Chnumhotep_  29 to  51');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  29 to  51</span></li>
        <li><span onclick="ShowFile('Chnumhotep_  52 to  74');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  52 to  74</span></li>
        <li><span onclick="ShowFile('Chnumhotep_  75 to  96');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  75 to  96</span></li>
        <li><span onclick="ShowFile('Chnumhotep_  97 to 120');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  97 to 120</span></li>
        <li><span onclick="ShowFile('Chnumhotep_ 121 to 144');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 121 to 144</span></li>
        <li><span onclick="ShowFile('Chnumhotep_ 145 to 160');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 145 to 160</span></li>
        <li><span onclick="ShowFile('Chnumhotep_ 161 to 179');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 161 to 179</span></li>
        <li><span onclick="ShowFile('Chnumhotep_ 180 to 198');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 180 to 198</span></li>
        <li><span onclick="ShowFile('Chnumhotep_ 199 to 222');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 199 to 222</span></li>
      </ul></span>
    </li>    <li><span onclick="ShowFile('Destruction');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The Myth of the Destruction of Mankind</span></li>
    <li><span onclick="ToggleShowFile('DemoFile_18');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The story of the Eloquent Peasant</span>
      <span id="DemoFile_18" style="display: none;"><ul>
        <li><span onclick="ShowFile('EloquentPeasant_  R   1 to   7');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  R   1 to   7</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_  R   8 to  34');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  R   8 to  34</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_  R  35 to  53');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  R  35 to  53</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1   1 to  20');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1   1 to  20</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1  21 to  40');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1  21 to  40</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1  41 to  60');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1  41 to  60</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1  61 to  80');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1  61 to  80</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1  81 to 101');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1  81 to 101</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 102 to 150');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 102 to 150</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 151 to 190');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 151 to 190</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 191 to 208');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 191 to 208</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 215 to 240');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 215 to 240</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 241 to 280');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 241 to 280</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B1 281 to 321');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B1 281 to 321</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B2  91 to 120');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B2  91 to 120</span></li>
        <li><span onclick="ShowFile('EloquentPeasant_ B2 121 to 142');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > B2 121 to 142</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_19');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Scarabs from Amenophis III</span>
      <span id="DemoFile_19" style="display: none;"><ul>
        <li><span onclick="ShowFile('ScarabAmenophisIII_1');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >A wild cattle hunt</span></li>
        <li><span onclick="ShowFile('ScarabAmenophisIII_2');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >His marriage with Tiy and the boundaries of his empire</span></li>
        <li><span onclick="ShowFile('ScarabAmenophisIII_3');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The arrival of the princess Gilukhipa</span></li>
        <li><span onclick="ShowFile('ScarabAmenophisIII_4');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >The construction of a pleasure lake</span></li>
        <li><span onclick="ShowFile('ScarabAmenophisIII_5');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >His success in 10 years' lion-hunting</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_20');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Shipwrecked Sailor (Papyrus Golenischeff 1913)</span>
      <span id="DemoFile_20" style="display: none;"><ul>
        <li><span onclick="ShowFile('ShipwreckedSailor_   1 to 11');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >   1 to 11</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  12 to 23');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  12 to 23</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  24 to 36');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  24 to 36</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  37 to 50');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  37 to 50</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  51 to 64');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  51 to 64</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  65 to 78');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  65 to 78</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  79 to 93');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  79 to 93</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_  94 to 108');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >  94 to 108</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 109 to 123');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 109 to 123</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 124 to 132');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 124 to 132</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 133 to 142');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 133 to 142</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 143 to 151');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 143 to 151</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 152 to 160');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 152 to 160</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 161 to 169');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 161 to 169</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 170 to 176');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 170 to 176</span></li>
        <li><span onclick="ShowFile('ShipwreckedSailor_ 177 to 189');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" > 177 to 189</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_21');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Berlin Papyrus 3022 (Sinuhe)</span>
      <span id="DemoFile_21" style="display: none;"><ul>
        <li><span onclick="ShowFile('Sinuhe_Excerpt');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Excerpt</span></li>
        <li><span onclick="ShowFile('Sinuhe_Page 1');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 1</span></li>
        <li><span onclick="ShowFile('Sinuhe_Page 2');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 2</span></li>
      </ul></span>
    </li>    <li><span onclick="ToggleShowFile('DemoFile_22');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Westcar Papyrus (Berlin 3033, Story of the miracles that happened in the reign of Cheops)</span>
      <span id="DemoFile_22" style="display: none;"><ul>
        <li><span onclick="ShowFile('Westcar_Page  6 (VI)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  6 (VI)</span></li>
        <li><span onclick="ShowFile('Westcar_Page  7 (VII)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  7 (VII)</span></li>
        <li><span onclick="ShowFile('Westcar_Page  8 (VIII)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  8 (VIII)</span></li>
        <li><span onclick="ShowFile('Westcar_Page  9 (IX)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page  9 (IX)</span></li>
        <li><span onclick="ShowFile('Westcar_Page 10 (X)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 10 (X)</span></li>
        <li><span onclick="ShowFile('Westcar_Page 11 (XI)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 11 (XI)</span></li>
        <li><span onclick="ShowFile('Westcar_Page 12 (XII)');" onmouseover="this.style.cursor='pointer';" onmouseout="this.style.cursor='auto';" >Page 12 (XII)</span></li>
      </ul></span>
    </li>  </ul>

</div>
<div id="TabSignList" style="display: none;">
  <p>This is the SignList Tab...</p>
</div>
<div id="TabPharaohs" style="display: none;">
  <p>This is the Pharaohs Tab...</p>
</div>
<div id="TabExplore" style="display: none;">
  <p>This is the Explore Tab...</p>
</div>
<div id="TabTransliteration" style="display: none;">
  <p>This is the Transliteration Tab...</p>
</div>
<div id="TabGroupEditor" style="display: none;">
  <p>This is the GroupEditor Tab...</p>
</div>
<div id="TabDigitizer" style="display: none;">
  <p>This is the Digitizer Tab...</p>
</div>
<div id="TabCatalog" style="display: none;">
  <p>This is the Catalog Tab...</p>
</div>
<div id="TabPassword" style="display: none;">
  <p>This is the Password Tab...</p>
</div>
<div id="TabPreferences" style="display: none;">
  <p>This is the Preferences Tab...</p>
</div>
<div id="TabAdmin" style="display: none;">
  <p>This is the Admin Tab...</p>
</div>
</form>
<script type="text/javascript">
//<![CDATA[

function ChangeBlack()
 {
  var newColor = document.form.Black.value.toLowerCase();
  var ok = false;
  var hexpattern1 = new RegExp('^[abcdef0123456789]{6}$');
  var hexpattern2 = new RegExp('^[#][abcdef0123456789]{6}$');
  var alphapattern = new RegExp('^[a-z]+$');
  if (hexpattern1.test(newColor))
   {
    newColor = '#' + newColor;
    ok = true;
   }
  if (hexpattern2.test(newColor))
   {
    ok = true;
   }
  if (alphapattern.test(newColor))
   {
    ok = true;
   }
  if (ok)
   {
    document.getElementById('BlackSample').style.backgroundColor = newColor;
   }
 }

function ChangeRed()
 {
  var newColor = document.form.Red.value.toLowerCase();
  var ok = false;
  var hexpattern1 = new RegExp('^[abcdef0123456789]{6}$');
  var hexpattern2 = new RegExp('^[#][abcdef0123456789]{6}$');
  var alphapattern = new RegExp('^[a-z]+$');
  if (hexpattern1.test(newColor))
   {
    newColor = '#' + newColor;
    ok = true;
   }
  if (hexpattern2.test(newColor))
   {
    ok = true;
   }
  if (alphapattern.test(newColor))
   {
    ok = true;
   }
  if (ok)
   {
    document.getElementById('RedSample').style.backgroundColor = newColor;
   }
 }

function CreateCartouche()
 {
  var text = document.form.Text.value;
  if (text != '')
   {
    $.ajax({
      url: '?Token=&Action=CreateCartouche&Text=' + escape(text),
      cache: false,
      dataType: 'json',
      Type: 'GET',
      success: function (data)
       {
        if (data.Status == 'OK')
         {
          document.form.Text.value = data.Text;
         }
        else
         {
          alert(data.Status);
         }
       }
     });
   }
 }

function CreateHieroglyphs()
 {
  var dataObject = {Action: 'CreateHieroglyphs',
                    Token: document.form.Token.value,
                    BaseLine: document.form.BaseLine.value,
                    Black: document.form.Black.value,
                    Columns: document.form.Columns.value,
                    DrawColumnLines: document.form.DrawColumnLines.value,
                    FillOut: document.form.FillOut.value,
                    Hieratic: document.form.Hieratic.value,
                    Kerning: document.form.Kerning.value,
                    LineSpacing: document.form.LineSpacing.value,
                    Red: document.form.Red.value,
                    RightToLeft: document.form.RightToLeft.value,
                    Scaling: document.form.Scaling.value,
                    StrokeWidth: document.form.StrokeWidth.value,
                    ShowPlus: document.form.SettingShowPlus.value,
                    Style: document.form.Style.value,
                    Text: document.form.Text.value};
  document.getElementById('Gears').style.display = 'inline';
  document.getElementById('HieroglyphsGraph').style.display = 'none';
  NoNotes();
  $.ajax({
    url: '?Action=CreateHieroglyphs',
    cache: false,
    dataType: 'json',
    data: dataObject,
    type: 'POST',
    success: function (data)
     {
      document.getElementById('Gears').style.display = 'none';
      document.getElementById('DownLoad').style.display = 'none';
      if (data.Status == 'OK')
       {
        document.getElementById('HieroglyphsGraph').src = 'http://71.174.62.16/' + data.ImageFile;
        document.getElementById('HieroglyphsGraph').style.display = 'inline';
        document.getElementById('Log').innerHTML = '&nbsp;';
        document.form.DownLoadSVG.value = data.ImageFile;
        document.form.DownLoadGlyph.value = data.TextFile;
        if (data.Comment.length > 0)
         {
          var comment='';
          var linefeed = '';
          for (var ii = 0; ii < data.Comment.length; ii++)
           {
            comment += (linefeed + data.Comment[ii]);
            linefeed = '\n';
           }
          document.getElementById('Log').innerHTML = comment;
         }
        document.getElementById('DownLoad').style.display = 'inline';
        if (document.form.Notes.value != '')
         {
          document.getElementById('ShowNotes_1').style.display = 'inline';
         }
       }
     }
   });
 }
function DownLoad(file)
 {
  var url = 'http://71.174.62.16/';
  url += (file == 'svg') ? document.form.DownLoadSVG.value : document.form.DownLoadGlyph.value;
  var fileName = file.split('/').pop();
  var element = document.createElement('a');
  element.setAttribute('href', url);
  element.setAttribute('download', fileName);
  document.body.appendChild(element);
  element.click();
 }

function FileChange(event)
 {
  const FileList = event.target.files;
  var FileObject;
  let message = '';
  let ok = true;
  if (FileList.length > 0)
   {
    FileObject = FileList[0];
    if (FileObject.size < 1)
     {
      message = FileObject.name + ' has no contents and cannot be uploaded.';
      ok = false;
     }
    if (FileObject.size > 3000000)
     {
      message = FileObject.name + ' is too large (maximum is 3MB).';
      ok = false;
     }
   }
  if (ok)
   {
    var formData = new FormData();
    formData.append('Token', new Blob([document.form.Token.value]));
    formData.append('UploadFile', FileObject, FileObject.name);
    formData.append('FileName', new Blob([FileObject.name]), '');
    formData.append('Action', new Blob(['GetTextFile']), '');
    $.ajax({
      url: '?Action=GetTextFile',
      cache: false,
      dataType: 'json',
      data: formData,
      processData: false,
      contentType: false,
      type: 'POST',
      success: function (data)
       {
        var ii;
        var text = '';
        var linefeed = '';
        document.form.UploadText.value = null;
        for (ii = 0; ii < data.FileData.length; ii++)
         {
          text += (linefeed + data.FileData[ii]);
          linefeed = '\n';
         }
          document.form.Text.value = text;
       }
     });
    document.form.UpLoadFileName.value = FileObject.name;
   }
  else
   {
    document.getElementById('SelectedFile').innerHTML = '<font color="red"><b>' + message + '</b></font>';
   }
 }

function DoGraphText(textobject)
 {
  // ignore
 }
function Logout()
 {
  document.form.Token.value = '';
  Switch('Glyph','');
  document.getElementById('TabGlyph').style.display = 'none';
  document.getElementById('TabBar').style.display = 'none';
  document.getElementById('LoginPage').style.display = 'block';
  document.form.FullName = '';
  document.getElementById('FullNameSpan').innerHTML = '&nbsp;';
 }

function NoNotes()
 {
  document.form.Notes.value = '';
  document.getElementById('ShowNotes_1').style.display = 'none';
  document.getElementById('ShowNotes_2').style.display = 'none';
  document.getElementById('ShowNotes_3').style.display = 'none';
 }

function NotesShow(which)
 {
  const notes1 = document.getElementById('ShowNotes_1');
  const notes2 = document.getElementById('ShowNotes_2');
  const notes3 = document.getElementById('ShowNotes_3');
  if (which ==1)
   {
    notes1.style.display = 'none';
    notes2.style.display = 'block';
    notes3.innerHTML = this.ShowNotes;
   }
  if (which == 2)
   {
    notes1.style.display = 'block';
    notes2.style.display = 'none';
    notes3.innerHTML = '&nbsp;';
   }
 }

function PersonalSettings()
 {
  document.form.BaseLine.value = document.form.SettingBaseLine.value;
  document.form.Black.value = document.form.SettingBlack.value;
  document.form.Columns.value = document.form.SettingColumns.value;
  document.form.DrawColumnLines.value = document.form.SettingDrawColumnLines.value;
  document.form.FillOut.value = document.form.SettingFillOut.value;
  document.form.Hieratic.value = document.form.SettingHieratic.value;
  document.form.Kerning.value = document.form.SettingKerning.value;
  document.form.LineSpacing.value = document.form.SettingLineSpacing.value;
  document.form.Red.value = document.form.SettingRed.value;
  document.form.RightToLeft.value = document.form.SettingRightToLeft.value;
  document.form.Scaling.value = document.form.SettingScaling.value;
  document.form.StrokeWidth.value = document.form.SettingStrokeWidth.value;
  document.form.Style.value = document.form.SettingStyle.value;
 }

function RemoveCommand(which1, which2, which3)
 {
  var nocr = /\r/g;
  var text = document.form.Text.value.replace(nocr,'');
  var lines = text.split('\n');
  var ii;
  var ok;
  var any = false;
  for (ii = lines.length - 1; ii >= 0; ii--)
   {
    ok = false;
    if (lines[ii].substr(0,1) == '@')
     {
      if (lines[ii].includes('='))
       {
        if (lines[ii].toLowerCase().includes(which1))
         {
          if ((which2 == '') && (which3 == '')) ok = true;
          if ((which2 != '') && (lines[ii].toLowerCase().includes(which2))) ok = true;
          if ((which3 != '') && (!lines[ii].toLowerCase().includes(which3))) ok = true
          if (ok)
           {
            lines.splice(ii, 1);
            any = true;
           }
         }
       }
     }
   }
  if (any) document.form.Text.value = lines.join('\n');
 }

function RemoveJSesh (which) {
   var nocr = /\r/g;
   var text =  document.form.Text.value.replace(nocr,'');
   let lines = text.split('\n');
   let any = false;
    for (let i1 = 0; i1 < lines.length; i1++) {
      let ok = false;
      let lower = lines[i1].toLowerCase();
      let JSesh = lower.indexOf('++jsesh_');
      let LineEnd = '+s';
      if (JSesh >= 0) {
        let remove = false;
        if (lower.substr(JSesh + 8,  5) == 'info ') remove = true;
        if (lower.substr(JSesh + 8, 10) == 'line_skip ') remove = true;
        if (lower.substr(JSesh + 8, 22) == 'use_lines_for_shading ') remove = true;
        if (lower.substr(JSesh + 8, 12) == 'column_skip ') remove = true;
        if (lower.substr(JSesh + 8, 23) == 'small_body_scale_limit ') remove = true;
        if (lower.substr(JSesh + 8, 21) == 'cartouche_line_width ') remove = true;
        if (lower.substr(JSesh + 8, which.length) == which) remove = true;
        if (remove) {
          let end = -1;
          for (let i2 = JSesh + 8; i2 < lower.length; i2++) {
            if (lower.substr(i2, 1) == '+') {
              end = i2;
              break;
            }
          }
          if (end >= 0) {
            let start = lines[i1].substr(0, JSesh); // includes the first +
            let tail = lines[i1].substr(end);
            lines[i1] = start.concat('', tail);
            any = true;
          }
          if ((LineEnd == '+s') && (lines[i1].substr(0, 2).toLowerCase() == '+s')) {
            lines[i1] = lines[i1].substr(2);
          }
          LineEnd = lines[i1].substr(lines[i1].length - 2, 2).toLowerCase();
        }
      }
    }
    for (let i1 = lines.length - 1; i1 >= 0; i1--) {
      if (lines[i1] == '') lines.splice(i1, 1);
    }
   if (any) document.form.Text.value = lines.join('\n');
 }

function SetUserName(guest)
 {
  var dataObject = {Action: 'SetUserName',
                    Token: document.form.Token.value,
                    UserName: guest ? 'guest' : document.form.UserName.value,
                    Password: document.form.Password.value};
  $.ajax({
    url: '?Action=SetUserName',
    cache: false,
    dataType: 'json',
    data: dataObject,
    type: 'POST',
    success: function (data)
     {
      if (data.Status == 'OK')
       {
        document.form.FullName.value = data.FullName;
        document.getElementById('LoginPage').style.display = 'none';
        document.getElementById('TabBar').style.display = 'block';
        document.form.Token.value = data.Token;

        document.form.FullName.value = data.FullName;

        document.form.UserNameCopy.value = data.UserName;

        Switch('Glyph', '');
        document.getElementById('FullNameSpan').innerHTML = data.FullName;
        document.form.SettingBaseLine.value = data.SettingBaseLine;
        document.form.SettingBlack.value = data.SettingBlack;
        document.form.SettingColumns.value = data.SettingColumns;
        document.form.SettingComment.value = data.SettingComment;
        document.form.SettingDrawColumnLines.value = data.SettingDrawColumnLines;
        document.form.SettingFillOut.value = data.SettingFillOut;
        document.form.SettingFontItalic.value = data.SettingFontItalic;
        document.form.SettingFontRegular.value = data.SettingFontRegular;
        document.form.SettingHieratic.value = data.SettingHieratic;
        document.form.SettingKerning.value = data.SettingKerning;
        document.form.SettingLineSpacing.value = data.SettingLineSpacing;
        document.form.SettingRed.value = data.SettingRed;
        document.form.SettingRightToLeft.value = data.SettingRightToLeft;
        document.form.SettingScaling.value = data.SettingScaling;
        document.form.SettingShowHTML.value = data.SettingShowHTML;
        document.form.SettingShowPlus.value = data.SettingShowPlus;
        document.form.SettingStrokeWidth.value = data.SettingStrokeWidth;
        document.form.SettingStyle.value = data.SettingStyle;
        document.form.SettingSynch.value = data.SettingSynch;
        PersonalSettings();
        ChangeBlack();
        ChangeRed();
       }
      else
       {
        document.getElementById('LoginStatus').innerHTML = data.Status;
        document.getElementById('TabBar').style.display = 'none';
        Switch('Glyph', '');
        document.getElementById('TabGlyph').style.display = 'none';
       }
     }
   });
 }

function ShowFile(file)
 {
  NoNotes();
  document.getElementById('ShowNotes_3').innerHTML = '&nbsp;';
  document.form.ShowDemoText.value = file;
  $.ajax({
    url: '?Token=&Action=GetDemoText&DemoText=' + encodeURIComponent(file),    cache: false,
    dataType: 'json',
    Type: 'GET',
    success: function (data)
     {
      document.form.Text.value = data.Text;
      document.form.Notes.value = data.Notes;
      Switch('Glyph', '');
      if (data.Notes.length > 0)
       {
        document.getElementById('ShowNotes_1').style.display = 'inline';
        document.getElementById('ShowNotes_3').innerHTML = data.Notes;
       }
     }
   });
 }

function Switch(page, subpage)
 {
  var showpersonal = (document.form.UserNameCopy.value != 'guest');
  var cell = [{name: 'Glyph', everyone: true},
              {name: 'Documentation', everyone: true},
              {name: 'DemoPages', everyone: true},
              {name: 'SignList', everyone: true},
              {name: 'Pharaohs', everyone: true},
              {name: 'Explore', everyone: true},
              {name: 'Transliteration', everyone: true},
              {name: 'GroupEditor', everyone: showpersonal},
              {name: 'Digitizer', everyone: showpersonal},
              {name: 'Catalog', everyone: showpersonal},
              {name: 'Password', everyone: showpersonal},
              {name: 'Preferences', everyone: showpersonal},
              {name: 'Admin', everyone: showpersonal},
             ];
  var ii;
  var newpage = page;
  for (ii = 0; ii < cell.length; ii++)
   {
    document.getElementById('Tab'  + cell[ii].name).style.display = 'none';
    document.getElementById('Tab_' + cell[ii].name).style.display = cell[ii].everyone ? 'table-cell': 'none';
    document.getElementById('Tab_' + cell[ii].name).style.fontWeight = 'normal';
    document.getElementById('Tab_' + cell[ii].name).style.color = 'purple';
    document.getElementById('Tab_' + cell[ii].name).style.backgroundColor = 'white';
   }
  if ((page == 'Documentation') && (subpage == 'SignList'))
   {
    newpage = 'SignList';
   }
  document.getElementById('Tab'  + page).style.display = 'block';
  document.getElementById('Tab_' + newpage).style.fontWeight = 'bold';
  document.getElementById('Tab_' + newpage).style.color = 'white';
  document.getElementById('Tab_' + newpage).style.backgroundColor = 'purple';
  document.form.Page.value = page;
  document.form.SubPage.value = subpage;
  if (page == 'Documentation')
   {
    $.ajax({
      url: '?Token=&Action=GetDocumentation&Page=' + subpage,
      cache: false,
      dataType: 'html',
      type: 'GET',
      success: function (data)
       {
        document.getElementById('Doc_SubPage').innerHTML = data;
       }
     });
   }
 }

function ToggleShowFile(id)
 {
  var current = document.getElementById(id).style.display
  document.getElementById(id).style.display = (current == 'none') ? 'inline' : 'none';
 }

//]]></script>

</body>
</html>
